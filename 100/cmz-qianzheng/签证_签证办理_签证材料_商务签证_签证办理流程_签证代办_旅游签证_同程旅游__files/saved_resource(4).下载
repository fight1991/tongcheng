/*from tccdn minify at 2017-5-23 12:34:11,fileï¼š/cn/public/module/anim/0.3/anim.js?v=13121201*/
(function(a){function h(e,f,g){return(e+(f-e)*g).toFixed(3)}function d(e){var f=e.match(/[\-\d\.]+/g),f=f&&f[0];e=e.split(f);f=parseFloat(f);return{v:f?f:0,f:h,u:e}}function i(e){for(var f=e.length,g=[];f--;){"opacity"===e[f]&&!j&&(e[e[f]="filter"]="alpha(opacity="+100*parseFloat(e.opacity)+")"),g[g[f]=e[f]]=d(e[g[f]])}return g}function l(){for(var e=this.elem.length;e--;){cancelAnimationFrame(this.elem[e].timer())}}function n(e){e&&(this.animHandler=e);return this.animHandler}function o(k,r,s,u){k.timer=n;r=fish.css.normalize(r);var x=i(r);r=document.defaultView&&document.defaultView.getComputedStyle;r=k.currentStyle?k.currentStyle:r(k,null);for(var t,y={},w,v,A=s.time||200,z=s.easing||function(e){return Math.sqrt(1-Math.pow(e-1,2))},B=k.timer(),C=x.length;C--;){t=x[C],s=k.style[t]||r[t],"filter"===t&&!s?y[t]=d("alpha(opacity=100)"):s&&(y[t]=d(s))}null!=B&&cancelAnimationFrame(B);requestAnimationFrame(function(e){w=e;v=e+A});k.timer(requestAnimationFrame(function(e){for(var f=e>=v?1:(e-w)/A,g=x.length;g--;){t=x[g],y[t]&&(k.style[t]=x[t].u[0]+x[t].f(y[t].v,x[t].v,z(f))+x[t].u[1])}e>=v?(cancelAnimationFrame(k.timer()),u&&u(k)):k.timer(requestAnimationFrame(arguments.callee))}));return k}for(var b=["ms","moz","webkit","o"],c=0;c<b.length&&!a.requestAnimationFrame;++c){a.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"]}if(!a.requestAnimationFrame||!a.cancelAnimationFrame){a.requestAnimationFrame=function(e){return setTimeout(function(){e(+new Date)},1)},a.cancelAnimationFrame=function(e){clearTimeout(e)}}var j=void 0!==document.createElement("div").style.opacity;fish.extend({anim:function(k,m,p){var r=this.length,u=this.length,q=0,s={elem:[],stop:l},t=p&&p.fn||p||null;p=p||{};for(p.time=m;r--;){s.elem.push(o(this[r],k,p,function(e){q++;q>=u&&"function"===typeof t&&t()}))}return s}})})(window);