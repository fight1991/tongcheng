function main(t){!function(t,e,o,n){var i=t(e);t.fn.lazyload=function(o){function r(){var e=0;l.each(function(){var o=t(this);if(!c.skip_invisible||"none"!==o.css("display"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else o.trigger("appear"),e=0})}function a(e){e.each(function(){var e=this,o=t(e);!o.data(c.data_attribute)&&e.src&&(o.data(c.data_attribute,e.src),e.src="",o.addClass("lazyload-img")),e.loaded=!1,o.one("appear",function(){if(!this.loaded){if(c.appear){var n=l.length;c.appear.call(e,n,c)}t("<img />").on("error",function(){}).on("load complete",function(){!function(o){o.hide().attr({src:o.data(c.data_attribute).replace("http:","")}).css(c.css),c.effect?o[c.effect](c.effect_speed):o.css({display:"block",opacity:1}),e.loaded=!0,o.attr("data-img-loaded","true");var n=t.grep(l,function(t){return!t.loaded});if(l=t(n),c.load){var i=l.length;c.load.call(e,i,c)}}(o)}).attr("src",o.data(c.data_attribute)?o.data(c.data_attribute).replace("http:",""):"")}}),0!==c.event.indexOf("scroll")&&o.on(c.event,function(){e.loaded||o.trigger("appear")})})}var f,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"",container:e,data_attribute:"original",skip_invisible:!0,appear:null,css:{},load:null};return o&&(n!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),n!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),t.extend(c,o)),f=c.container===n||c.container===e?i:t(c.container),0===c.event.indexOf("scroll")&&f.on(c.event,function(){return r()}),f.on("addElements",function(){var e=arguments;l=t(Array.prototype.slice.call(e,1)),a(l),r()}),a(this),i.on("resize",function(){r()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&i.on("pageshow",function(e){e=e.originalEvent||e,e.persisted&&l.each(function(){t(this).trigger("appear")})}),t(e).on("load",function(){r()}),this},t.belowthefold=function(o,r){var a;return a=r.container===n||r.container===e?i.height()+i[0].scrollY:t(r.container).offset().top+t(r.container).height(),a<=t(o).offset().top-r.threshold},t.rightoffold=function(o,r){var a;return a=r.container===n||r.container===e?i.width()+i[0].scrollX:t(r.container).offset().left+t(r.container).width(),a<=t(o).offset().left-r.threshold},t.abovethetop=function(o,r){var a;return a=r.container===n||r.container===e?i[0].scrollY:t(r.container).offset().top,a>=t(o).offset().top+r.threshold+t(o).height()},t.leftofbegin=function(o,r){var a;return a=r.container===n||r.container===e?i[0].scrollX:t(r.container).offset().left,a>=t(o).offset().left+r.threshold+t(o).width()},t.inviewport=function(e,o){return!(t.rightoffold(e,o)||t.leftofbegin(e,o)||t.belowthefold(e,o)||t.abovethetop(e,o))},t.extend(t.fn,{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(t,window,document)}"function"==typeof define?define("lazyload/0.1.0/index",[],function(){return main(jQuery)}):main(jQuery);