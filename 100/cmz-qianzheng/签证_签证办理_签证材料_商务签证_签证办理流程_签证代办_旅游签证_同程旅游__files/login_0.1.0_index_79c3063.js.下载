define("login/0.1.0/index",["login/0.1.0/index.css"],function(){var n,o=jQuery,i=function(i){n?n.open():(n=this,o.extend(n.config,i),n.init())};return i.prototype={config:{className:"mLogin_iframe",width:293,height:293,loginSuccess:function(){}},currentDomain:document.domain,init:function(){var n=this;window.loginSuccess=function(){n.success.call(n)},n.setDomain(n.getDomain()),n.build(),n.open()},open:function(){o(".login_bg_bag, .mLogin_iframe").css({display:"block"})},close:function(){o(".mLogin_iframe, .login_bg_bag").css({display:"none"})},build:function(){var n=this,i=n.config;o(".mLogin_iframe").length||o("body").append('<div class="mLogin_iframe"><div class="login_top"><a href="javascript:;" class="mLogin_close"></a></div><div class="login_iframe_content"><iframe frameborder="no" scrolling="no" src="https://passport.ly.com/login/loginmodule"></iframe></div></div>').append('<div class="login_bg_bag"></div>'),o(".mLogin_iframe .mLogin_close, .mLogin_iframe .login_top a").on("click",function(){i.onClose&&i.onClose()===!0||n.close()}),o(".login_bg_bag").on("click",function(){i.maskClose&&n.close()})},getDomain:function(){var n=location.hostname.match(/\.[^\.]*\.(com|cn|net)$/);return n?n[0].substring(1):location.hostname},setDomain:function(n){try{document.domain=n}catch(o){}},success:function(){var n=this,i=n.config;i.loginSuccess&&i.loginSuccess(),n.setDomain(n.currentDomain),n.close(),i.unReload?(o(".mLogin_iframe iframe").remove(),o(".mLogin_iframe .login_iframe_content").html('<iframe frameborder="no" scrolling="no" src="https://passport.ly.com/login/loginmodule"></iframe>')):window.location.reload()}},i});